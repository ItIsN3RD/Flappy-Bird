<!DOCTYPE html>
<html>
  <head>
    <title>Flappy Bird</title>
    <style>
      canvas {
        background-color: #87CEEB; /* Sky blue */
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");

      // Constants
      const GRAVITY = 0.5;
      const FLAP_POWER = -7;
      const GROUND_Y = canvas.height - 20;
      const BIRD_WIDTH = 20;
      const BIRD_HEIGHT = 20;

      // State
      let birdX = 50;
      let birdY = 100;
      let birdVelocity = 0;
      let birdAcceleration = GRAVITY;
      let birdFlapping = false;

      function update() {
        // Apply gravity
        birdVelocity += birdAcceleration;

        // Apply flap
        if (birdFlapping) {
          birdVelocity = FLAP_POWER;
          birdFlapping = false;
        }

        // Update position
        birdY += birdVelocity;

        // Check for ground collision
        if (birdY > GROUND_Y) {
          birdY = GROUND_Y;
          birdVelocity = 0;
        }
      }

      function draw() {
        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw bird
        ctx.fillStyle = "yellow";
        ctx.fillRect(birdX, birdY, BIRD_WIDTH, BIRD_HEIGHT);
      }

      function loop() {
        update();
        draw();
        requestAnimationFrame(loop);
      }

      // Start game loop
      loop();

      // Handle flap input
      document.addEventListener("keydown", event => {
        if (event.code === "Space") {
          birdFlapping = true;
        }
      });
    </script>
  </body>
</html>
